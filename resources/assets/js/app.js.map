{"version":3,"sources":["app.coffee","classes/expander.coffee","factory/factory.coffee","directives/academic-year.coffee","directives/digits-only.coffee","directives/errors.coffee","directives/in-view.coffee","directives/mark.coffee","directives/phone-field.coffee","directives/plural.coffee","directives/price-item.coffee","directives/program.coffee","directives/request-form.coffee","controllers/_template.coffee","controllers/cv.coffee","controllers/gallery.coffee","controllers/index.coffee","controllers/landing.coffee","controllers/main.coffee","controllers/master.coffee","controllers/order.coffee","controllers/other.coffee","controllers/price.coffee","controllers/reviews.coffee","controllers/tutors.coffee","resources/resources.coffee","service/gallery.coffee","service/phone.coffee","service/price.coffee","service/stream.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["angular.module(\"App\", ['ngResource', 'ngAnimate', 'angular-ladda', 'angularFileUpload', 'angular-toArrayFilter', 'thatisuday.ng-image-gallery', 'ngSanitize'])\n    .config [\n        'ngImageGalleryOptsProvider',\n        (ngImageGalleryOptsProvider) ->\n            ngImageGalleryOptsProvider.setOpts\n                bubbles         :   true\n                bubbleSize      :   165\n    ]\n    .config [\n        '$compileProvider'\n        ($compileProvider) ->\n            $compileProvider.aHrefSanitizationWhitelist /^\\s*(https?|ftp|mailto|chrome-extension|sip):/\n    ]\n    .config (laddaProvider) ->\n        laddaProvider.setOption\n            spinnerColor: '#83b060'\n    .filter 'youtubeEmbedUrl', ($sce) ->\n        (videoId) -> $sce.trustAsResourceUrl('https://www.youtube.com/embed/' + videoId + '?enablejsapi=1&showinfo=0&rel=0')\n    .filter 'cut', ->\n        (value, wordwise, max, tail = '') ->\n            return '' if not value\n            max = parseInt(max, 10)\n            return value if not max\n            return value if value.length <= max\n            value = value.substr(0, max)\n            if wordwise\n                lastspace = value.lastIndexOf(' ')\n                if lastspace isnt -1\n                  if value.charAt(lastspace-1) is '.' || value.charAt(lastspace-1) is ','\n                    lastspace = lastspace - 1\n                  value = value.substr(0, lastspace)\n            return value + tail\n    .filter 'hideZero', ->\n        (item) ->\n            if item > 0 then item else null\n    .run ($rootScope, $q, StreamService) ->\n        $rootScope.streamLink = streamLink\n        $rootScope.StreamService = StreamService\n        $rootScope.eventUrl = eventUrl\n        $rootScope.eventAction = eventAction\n\n        # отвечает за загрузку данных\n        $rootScope.dataLoaded = $q.defer()\n        # конец анимации front-end загрузки и rebind маск\n        $rootScope.frontendStop = (rebind_masks = true) ->\n            $rootScope.frontend_loading = false\n            $rootScope.dataLoaded.resolve(true)\n            rebindMasks() if rebind_masks\n\n        $rootScope.range = (min, max, step) ->\n          step = step or 1\n          input = []\n          i = min\n          while i <= max\n            input.push i\n            i += step\n          input\n\n         $rootScope.withTailingDot = (text) ->\n            text = text.trim()\n            char = text[text.length - 1]\n            text = text + '.' if ['!', '.'].indexOf(char) is -1\n            text\n\n          # skip_values – какие значения в enum пропускать\n          # allowed_user_ids – пользователи, которым разрешено выбирать значения\n          # recursion – функция была запущена рекурсивно (внизу)\n        $rootScope.toggleEnum = (ngModel, status, ngEnum, skip_values = [], allowed_user_ids = [], recursion = false) ->\n            # если установлено значение, которое пропускается для обычных пользователей,\n            # то запрещать его смену\n            return if not recursion and parseInt(ngModel[status]) in skip_values and $rootScope.$$childHead.user.id not in allowed_user_ids\n\n            statuses = Object.keys(ngEnum)\n            status_id = statuses.indexOf ngModel[status].toString()\n            status_id++\n            status_id = 0 if status_id > (statuses.length - 1)\n            ngModel[status] = statuses[status_id]\n            # if in skip_values\n            $rootScope.toggleEnum(ngModel, status, ngEnum, skip_values, allowed_user_ids, true) if status_id in skip_values and $rootScope.$$childHead.user.id not in allowed_user_ids\n\n        # обновить + ждать ответа от сервера\n        $rootScope.toggleEnumServer = (ngModel, status, ngEnum, Resource) ->\n            statuses = Object.keys(ngEnum)\n            status_id = statuses.indexOf ngModel[status].toString()\n            status_id++\n            status_id = 0 if status_id > (statuses.length - 1)\n\n            update_data = {id: ngModel.id}\n            update_data[status] = status_id\n\n            Resource.update update_data, ->\n                ngModel[status] = statuses[status_id]\n\n        $rootScope.formatDateTime = (date) ->\n            moment(date).format \"DD.MM.YY в HH:mm\"\n\n        $rootScope.formatDate = (date, full_year = false) ->\n            return '' if not date\n            moment(date).format \"DD.MM.YY\" + (if full_year then \"YY\" else \"\")\n\n        $rootScope.formatDateFull = (date) ->\n            moment(date).format \"D MMMM YYYY\"\n\n        $rootScope.dialog = (id) ->\n            $(\"##{id}\").modal 'show'\n            return\n\n        $rootScope.closeDialog = (id) ->\n            $(\"##{id}\").modal 'hide'\n            return\n\n        $rootScope.onEnter = (event, fun, prevent_default = true) ->\n            event.preventDefault() if prevent_default\n            fun() if event.keyCode is 13\n\n        $rootScope.ajaxStart = ->\n            ajaxStart()\n            $rootScope.saving = true\n\n        $rootScope.ajaxEnd = ->\n            ajaxEnd()\n            $rootScope.saving = false\n\n        $rootScope.findById = (object, id) ->\n            _.findWhere(object, {id: parseInt(id)})\n\n        # prop2 – второй уровень вложенности\n        $rootScope.total = (array, prop, prop2 = false) ->\n            sum = 0\n            $.each array, (index, value) ->\n                v = value[prop]\n                v = v[prop2] if prop2\n                sum += v\n            sum\n\n        # сколько лет прошло с указанной даты\n        $rootScope.yearsPassed = (year) ->\n            moment().format(\"YYYY\") - year\n\n        $rootScope.deny = (ngModel, prop) ->\n            ngModel[prop] = +(!ngModel[prop])\n\n        $rootScope.closestMetro = (markers) ->\n            closest_metro = markers[0].metros[0]\n            markers.forEach (marker) ->\n                marker.metros.forEach (metro) ->\n                    closest_metro = metro if metro.minutes < closest_metro.minutes\n            closest_metro.station.title\n\n        $rootScope.closestMetros = (markers) ->\n            closest_metros = []\n            markers.forEach (marker, index) ->\n                closest_metros[index] = marker.metros[0]\n                marker.metros.forEach (metro) ->\n                    closest_metros[index] = metro if metro.minutes < closest_metros[index].minutes\n            closest_metros\n\n        # $rootScope.photoUrl = (object) ->\n        #     if object and object.photos and object.photos.length\n        #         \"https://tcms.app:8103/photos/cropped/#{object.photos[0].cropped}\"\n        #     else\n        #         \"https://lk.ege-repetitor.ru/img/tutors/no-profile-img.gif\"\n\n        $rootScope.fullName = (tutor) ->\n            return tutor.last_name + ' ' + tutor.first_name + ' ' + tutor.middle_name\n\n        $rootScope.objectLength = (obj) -> Object.keys(obj).length\n\n        $rootScope.shortenGrades = (tutor) ->\n            if tutor.grades.length <= 3\n                grades = _.clone tutor.grades\n                if (grades.length > 1)\n                    last_grade = grades.pop()\n                grade_string = grades.join ', '\n                grade_string += ' и ' + last_grade if last_grade\n                return grade_string + if last_grade then ' классы' else ' класс'\n            else\n                a = _.clone tutor.grades\n                return if a.length < 1\n                limit = a.length - 1\n                combo_end = -1\n                pairs = []\n                i = 0\n                while i <= limit\n                    combo_start = parseInt(a[i])\n                    if combo_start > 11\n                        i++\n                        combo_end = -1\n                        pairs.push combo_start\n                        continue\n\n                    if combo_start <= combo_end\n                        i++\n                        continue\n\n                    j = i\n                    while j <= limit\n                        combo_end = parseInt(a[j])\n                        # если уже начинает искать по студентам\n                        break if combo_end >= 11\n                        break if parseInt(a[j + 1]) - combo_end > 1\n                        j++\n                    if combo_start != combo_end\n                        pairs.push combo_start + '–' + combo_end + ' классы'\n                    else\n                        pairs.push combo_start + ' класс'\n                    i++\n                return pairs.join ', '\n\n        $rootScope.countObj = (obj) ->\n            Object.keys(obj).length\n\n        $rootScope.formatBytes = (bytes) ->\n          if bytes < 1024\n            bytes + ' Bytes'\n          else if bytes < 1048576\n            (bytes / 1024).toFixed(1) + ' KB'\n          else if bytes < 1073741824\n            (bytes / 1048576).toFixed(1) + ' MB'\n          else\n            (bytes / 1073741824).toFixed(1) + ' GB'\n","class window.PriceExpander\n    base_class: '.price-list'\n    li_class: 'li:visible'\n\n    constructor: (n) ->\n        @n = n\n\n    _expand: (level = 1) ->\n        selector = [@base_class]\n        selector.push(@li_class) for i in [0..level-1]\n        selector = selector.join(' ')\n        expanded = false\n        # todo: если максимально открытый список меньше N\n        $(selector).each (i, e) =>\n            return if expanded\n            # console.log(\"Length: \", @getLength(), @isExpanded(), expanded)\n            e = $(e).find('>price-item>.price-section')\n            e.click()\n            if @isExpanded()\n                # console.log(\"Length2: \", @getLength(), @isExpanded(), expanded)\n                # если после раскрытия элементов стало больше N,\n                # то кликаем еще раз, чтобы свернуть и стало <= N\n                e.click()\n                expanded = true\n                return\n        @_expand(level + 1) if not expanded && level < 5\n\n    getLength: -> $([@base_class, @li_class].join(' ')).length\n\n    isExpanded: -> @getLength() > @n\n\n    @expand: (n) ->\n        expander = new PriceExpander(n)\n        expander._expand()\n","angular.module('App')\n    # средний балл по Москве\n    .value 'AvgScores',\n        '1-11-1': 46.3\n        '2-11': 51.2\n        '3-11': 56.1\n        '4-11': 52.8\n        '5-11': 53\n        '6-11': 65.8\n        '7-11': 56\n        '8-11': 53.3\n        '9-11': 48.1\n        '10-11': 64.2\n        '11-11': 53\n    .value 'Units', [\n        {id: 1, title: 'изделие'},\n        {id: 2, title: 'штука'},\n        {id: 3, title: 'сантиметр'},\n        {id: 4, title: 'пара'},\n        {id: 5, title: 'метр'},\n        {id: 6, title: 'дм²'},\n        {id: 7, title: 'см²'},\n        {id: 8, title: 'мм²'},\n        {id: 9, title: 'элемент'},    ]\n    .value 'Grades',\n        # 1: '1 класс'\n        # 2: '2 класс'\n        # 3: '3 класс'\n        # 4: '4 класс'\n        # 5: '5 класс'\n        # 6: '6 класс'\n        # 7: '7 класс'\n        # 8: '8 класс'\n        9: '9 класс'\n        10: '10 класс'\n        11: '11 класс'\n        # 14: 'экстернат'\n    .value 'Subjects',\n        all:\n            1: 'математика',\n            2: 'физика',\n            3: 'химия',\n            4: 'биология',\n            5: 'информатика'\n            6: 'русский',\n            7: 'литература',\n            8: 'обществознание',\n            9: 'история',\n            10: 'английский',\n            11: 'география',\n        ,\n        full:\n            1: 'Математика'\n            2: 'Физика'\n            3: 'Химия'\n            4: 'Биология'\n            5: 'Информатика'\n            6: 'Русский язык'\n            7: 'Литература'\n            8: 'Обществознание'\n            9: 'История'\n            10: 'Английский язык'\n            11: 'География'\n        dative:\n            1: 'математике'\n            2: 'физике'\n            3: 'химии'\n            4: 'биологии'\n            5: 'информатике'\n            6: 'русскому языку'\n            7: 'литературе'\n            8: 'обществознанию'\n            9: 'истории'\n            10: 'английскому языку'\n            11: 'географии'\n        short: ['М', 'Ф', 'Р', 'Л', 'А', 'Ис', 'О', 'Х', 'Б', 'Ин', 'Г'],\n        three_letters:\n            1: 'МАТ'\n            2: 'ФИЗ'\n            3: 'ХИМ'\n            4: 'БИО'\n            5: 'ИНФ'\n            6: 'РУС'\n            7: 'ЛИТ'\n            8: 'ОБЩ'\n            9: 'ИСТ'\n            10: 'АНГ'\n            11: 'ГЕО'\n        short_eng:\n            1: 'math'\n            2: 'phys'\n            3: 'chem'\n            4: 'bio'\n            5: 'inf'\n            6: 'rus'\n            7: 'lit'\n            8: 'soc'\n            9: 'his'\n            10: 'eng'\n            11: 'geo'\n","angular.module('App').directive 'academic', ->\n    restrict: 'E'\n    template: \"{{ year }}–{{ +(year) + 1 }}\"\n    scope:\n        year: '='\n","angular.module 'App'\n    .directive 'digitsOnly', ->\n        restrics:  'A'\n        require: 'ngModel'\n        link: ($scope, $element, $attr, $ctrl) ->\n            filter = (value) ->\n                return undefined if not value\n                new_value = value.replace /[^0-9]/g, ''\n                if new_value isnt value\n                    $ctrl.$setViewValue new_value\n                    $ctrl.$render()\n\n                value\n\n            $ctrl.$parsers?.push filter\n","angular.module('App').directive 'errors', ->\n    restrict: 'E'\n    templateUrl: '/directives/errors'\n    scope:\n        model: '@'\n    controller: ($scope, $element, $attrs) ->\n        $scope.only_first = $attrs.hasOwnProperty('onlyFirst')\n\n        $scope.getErrors = ->\n            return if $scope.$parent.errors is undefined\n            errors = $scope.$parent.errors[$scope.model]\n            return if not errors\n            if $scope.only_first then [errors[0]] else errors\n","# angular.module('Egerep').directive 'inView', ->\n#     restrict: 'A'\n#     scope:\n#         tutor: '=tutor'\n#         index: '=index'\n#     link: ($scope, $element, $attrs) ->\n#         # offset, чтобы было только при 100% видимости засчитывало\n#         # elementOffset.top += elementSize.height - 10\n#         $($element).on 'inview', (event, isInView) ->\n#             if isInView and $scope.$parent.viewed_tutors.indexOf($scope.tutor.id) is -1\n#                 $scope.$parent.viewed_tutors.push($scope.tutor.id)\n#                 $scope.$parent.StreamService.run 'view', $scope.$parent.StreamService.identifySource($scope.tutor),\n#                     tutor_id: $scope.tutor.id\n#                     position: $scope.index or null\n#                 $($element).off('inview')\n","angular.module('App').directive 'ngMark', ->\n    restrict: 'A'\n    scope:\n        word: '@'\n    controller: ($scope, $element, $attrs, $timeout) ->\n        $timeout ->\n            $($element).mark $scope.word,\n                separateWordSearch: true\n                accuracy:\n                    value: 'exactly'\n                    limiters: ['!', '@', '#', '&', '*', '(', ')', '-', '–', '—', '+', '=', '[', ']', '{', '}', '|', ':', ';', '\\'', '\\\"', '‘', '’', '“', '”', ',', '.', '<', '>', '/', '?']\n","angular.module('App')\n    .directive 'ngPhone', ->\n        restrict: 'A'\n        link: ($scope, element) ->\n            $(element).inputmask(\"+7 (999) 999-99-99\", { autoclear: false, showMaskOnHover: false })\n","angular.module 'App'\n    .directive 'plural', ->\n        restrict: 'E'\n        scope:\n            count: '='      # кол-во\n            type: '@'       # тип plural age | student | ...\n            noneText: '@'   # текст, если кол-во равно нулю\n        templateUrl: '/directives/plural'\n        controller: ($scope, $element, $attrs, $timeout) ->\n            $scope.textOnly = $attrs.hasOwnProperty('textOnly')\n            $scope.hideZero = $attrs.hasOwnProperty('hideZero')\n\n            $scope.when =\n                'age': ['год', 'года', 'лет']\n                'student': ['ученик', 'ученика', 'учеников']\n                'minute': ['минуту', 'минуты', 'минут']\n                'hour': ['час', 'часа', 'часов']\n                'day': ['день', 'дня', 'дней']\n                'rubbles': ['рубль', 'рубля', 'рублей']\n                'client': ['клиент', 'клиента', 'клиентов']\n                'mark': ['оценки', 'оценок', 'оценок']\n                'review': ['отзыв', 'отзыва', 'отзывов']\n                'request': ['заявка', 'заявки', 'заявок']\n                'profile': ['анкета', 'анкеты', 'анкет']\n                'address': ['адрес', 'адреса', 'адресов']\n                'person': ['человек', 'человека', 'человек']\n                'ton': ['тонна', 'тонны', 'тонн']\n                'yacht': ['яхта', 'яхты', 'яхт']\n                'photo': ['фото', 'фотографии', 'фотографий']\n","angular.module 'App'\n    .directive 'priceItem', ->\n        restrict: 'E'\n        # templateUrl: '/directives/price-item'\n        templateUrl: (elem, attrs) ->\n            if isMobile then '/directives/price-item-mobile' else '/directives/price-item'\n        scope:\n            item:   '='\n            level: '='\n        controller: ($scope, $timeout, $rootScope, PriceSection, PricePosition, Units) ->\n            $scope.Units = Units\n            $scope.findById = $rootScope.findById\n            $scope.controller_scope = scope\n\n            $scope.priceRounded = (price) -> Math.round(price / 10) * 10\n\n            $scope.getStyle = ->\n                offset = $scope.level * 20 + 'px'\n                left: offset\n                width: \"calc(100% - #{offset})\"\n\n            $scope.toggle = (item, event) ->\n                if item.items && item.items.length\n                    # IE fix\n                    target = if $(event.target).hasClass('price-line') then $(event.target) else $(event.target).closest('.price-line')\n                    target.toggleClass('active')\n                    ul = target.parent().children('ul')\n                    event_name = if ul.is(':visible') then prefixEvent('price-minimize') else prefixEvent('price-expand')\n                    eventAction(event_name, item.model.name)\n                    ul.slideToggle(250)\n","angular\n    .module 'App'\n    .directive 'programItem', ->\n        templateUrl: '/directives/program'\n        scope:\n            item:   '='\n            level:  '=?'\n            levelstring: '='\n        controller: ($timeout, $element, $scope) ->\n            $scope.level = 0 if not $scope.level\n\n            $scope.getChildLevelString = (child_index) ->\n                str = if $scope.levelstring then $scope.levelstring else ''\n                str + (child_index + 1) + '.'","# angular.module('App')\n#     .directive 'requestForm', ->\n#         replace: true\n#         scope:\n#             tutor: '='\n#             sentIds: '='\n#             index: '='\n#         templateUrl: (elem, attrs) ->\n#             if attrs.hasOwnProperty('mobile') then '/directives/request-form-mobile' else '/directives/request-form'\n#         controller: ($scope, $element, $timeout, $rootScope, Request, Sources) ->\n#             # отправить заявку\n#             $scope.request = ->\n#                 $scope.tutor.request = {} if $scope.tutor.request is undefined\n#                 $scope.tutor.request.tutor_id = $scope.tutor.id\n#                 Request.save $scope.tutor.request, ->\n#                     $scope.tutor.request_sent = true\n#                     $scope.$parent.StreamService.run 'request', $scope.$parent.StreamService.identifySource($scope.tutor),\n#                         position: $scope.index or $scope.$parent.index\n#                         tutor_id: $scope.tutor.id\n#                     trackDataLayer()\n#                 , (response) ->\n#                     if response.status is 422\n#                         angular.forEach response.data, (errors, field) ->\n#                             selector = \"[ng-model$='#{field}']\"\n#                             $($element).find(\"input#{selector}, textarea#{selector}\").focus().notify errors[0], notify_options\n#                     else\n#                         $scope.tutor.request_error = true\n#\n#             trackDataLayer = ->\n#                 dataLayerPush\n#                     event: 'purchase'\n#                     ecommerce:\n#                         currencyCode: 'RUR'\n#                         purchase:\n#                             actionField:\n#                                 id: googleClientId()\n#                                 affiliation: $scope.$parent.StreamService.identifySource()\n#                                 revenue: $scope.tutor.public_price\n#                             products: [\n#                                 id: $scope.tutor.id\n#                                 price: $scope.tutor.public_price\n#                                 brand: $scope.tutor.subjects\n#                                 category: $scope.tutor.gender + '_' + $rootScope.yearsPassed($scope.tutor.birth_year) # пол_возраст\n#                                 quantity: 1\n#                             ]\n","# angular\n#     .module 'Egerep'\n#     .controller 'VariablesIndex', ($scope, $attrs, IndexService, Variable) ->\n#         bindArguments($scope, arguments)\n#         angular.element(document).ready ->\n#             IndexService.init(Variable, $scope.current_page, $attrs)\n#     .controller 'VariablesForm', ($scope, $attrs, $timeout, FormService, Variable) ->\n#         bindArguments($scope, arguments)\n#         angular.element(document).ready ->\n#             FormService.init(Variable, $scope.id, $scope.model)\n","angular\n    .module 'App'\n    .controller 'Cv', ($scope, $timeout, $http, Subjects, Cv, StreamService) ->\n        bindArguments($scope, arguments)\n\n        $timeout ->\n            $scope.cv = {}\n            $scope.sent = false\n\n        $scope.send = ->\n            $scope.sending = true\n            $scope.errors = {}\n            Cv.save $scope.cv, ->\n                StreamService.run('tutor_cv', streamString())\n                $scope.sending = false\n                $scope.sent = true\n                $('body').animate scrollTop: $('.header').offset().top\n                dataLayerPush\n                    event: 'cv'\n                    # ecommerce:\n                    #     currencyCode: 'RUR'\n                    #     purchase:\n                    #         actionField:\n                    #             id: googleClientId()\n                    #         products: [\n                    #             # класс\n                    #             # brand: $scope.cv.grade\n                    #             # предметы_филиал\n                    #             category: (if $scope.cv.subjects then $scope.cv.subjects.sort().join(',') else '')\n                    #             quantity: 1\n                    #         ]\n            , (response) ->\n                $scope.sending = false\n                angular.forEach response.data, (errors, field) ->\n                    $scope.errors[field] = errors\n                    selector = \"[ng-model$='#{field}']\"\n                    $('html,body').animate({scrollTop: $(\"input#{selector}, textarea#{selector}\").first().offset().top}, 0)\n                    input = $(\"input#{selector}, textarea#{selector}\")\n                    input.focus()\n                    input.notify errors[0], notify_options if isMobile\n\n        streamString = ->\n            stream_string = []\n            # stream_string.push(\"class=#{$scope.cv.grade}\") if $scope.cv.grade\n            if $scope.cv.subjects\n                subj = []\n                $scope.cv.subjects.forEach (subject_id) -> subj.push(Subjects.short_eng[subject_id])\n                stream_string.push(\"subjects=\" + subj.join('+'))\n            # if $scope.cv.branch_id\n            #     stream_string.push(\"address=\" + _.find($scope.Branches, {id: parseInt($scope.cv.branch_id)}).code)\n            stream_string.join('_')\n\n        $scope.isSelected = (subject_id) ->\n                return false if not ($scope.cv and $scope.cv.subjects)\n                $scope.cv.subjects.indexOf(subject_id) isnt -1\n\n        $scope.selectSubject = (subject_id) ->\n            $scope.cv.subjects = [] if not $scope.cv.subjects\n            if $scope.isSelected subject_id\n                $scope.cv.subjects = _.without $scope.cv.subjects, subject_id\n            else\n                $scope.cv.subjects.push subject_id\n\n        $scope.selectedSubjectsList = ->\n            return false if not $scope.cv?.subjects?.length\n            subjects = []\n            for subject_id in $scope.cv.subjects\n                subjects.push $scope.Subjects[subject_id].name\n            subjects.join ', '","angular\n    .module 'App'\n    .controller 'Gallery', ($scope, $timeout, StreamService) ->\n        bindArguments($scope, arguments)\n\n        angular.element(document).ready ->\n            $scope.all_photos = []\n            _.each $scope.groups, (group) ->\n                $scope.all_photos = $scope.all_photos.concat group.photo\n\n        $scope.openPhoto = (photo_id) ->\n            StreamService.run('photogallery', \"open_#{photo_id}\")\n            $scope.gallery.open($scope.getFlatIndex(photo_id))\n\n        $scope.getFlatIndex = (photo_id) ->\n            _.findIndex $scope.all_photos, id: photo_id\n","angular\n    .module 'App'\n    .controller 'index', ($scope, $timeout, $http, PriceService, GalleryService) ->\n        bindArguments($scope, arguments)\n\n        $scope.player = {}\n\n        $scope.reviews_per_page = 10\n        $scope.displayed_reviews = 3\n\n        $scope.items_per_page = 6\n        $scope.displayed_items = 6\n\n        $scope.displayed_videos = 3\n        $scope.displayed_masters = 6\n\n        window.onYouTubeIframeAPIReady = -> $scope.videos.forEach (v) -> initVideo(v)\n\n        $timeout ->\n            loadReviews()\n            initGmap()\n\n            $scope.videos.forEach (v) -> initVideo(v)\n\n            # $scope.has_more_videos = true\n            # $scope.videos_page = 0\n            # $scope.videos = []\n            # searchVideos()\n            GalleryService.init($scope.gallery)\n\n        # REVIEWS\n        $scope.loadMoreReviews = ->\n            $scope.displayed_reviews += $scope.reviews_per_page\n\n        loadReviews = ->\n            params =\n                folders: $scope.review_folders\n                ids: $scope.review_ids\n            params['tags[]'] = $scope.review_tags.split(',') if $scope.review_tags\n            $http.get('/api/reviews?' + $.param(params)).then (response) ->\n                $scope.reviews = response.data\n\n        # VIDEOS\n        $scope.nextVideosPage = ->\n            $scope.videos_page++\n            # StreamService.run('load_more_tutors', null, {page: $scope.page})\n            searchVideos()\n\n        searchVideos = ->\n            $scope.searching_videos = true\n            $http.get('/api/videos?page=' + $scope.videos_page).then (response) ->\n                $scope.searching_videos = false\n                $scope.videos = $scope.videos.concat(response.data.videos)\n                $scope.has_more_videos = response.data.has_more_videos\n                $timeout -> response.data.videos.forEach (v) -> bindFullscreenRequest(v)\n                # if $scope.mobile then $timeout -> bindToggle()\n\n        # длительность видео\n        $scope.videoDuration = (v) ->\n            if v.duration\n                format = if v.duration >= 60 then 'm:ss' else 'ss'\n                moment.utc(v.duration * 1000).format(format)\n\n        # остановить воспроизведение всех проигрывателей\n        # except_id – кроме\n        $scope.stopPlaying = (except_id) ->\n            $.each $scope.player, (e, p) ->\n                p.stopVideo() if (p.getPlayerState && p.getPlayerState() == 1 && p.a.id != except_id)\n\n        initVideo = (video) ->\n            return if not YT.Player or $scope.player[video.id]\n            iframe = document.getElementById(\"youtube-video-#{video.id}\")\n            requestFullScreen = iframe.requestFullScreen || iframe.mozRequestFullScreen || iframe.webkitRequestFullScreen\n            player = new YT.Player \"youtube-video-#{video.id}\",\n                playerVars:\n                    rel: 0\n                events:\n                    onReady: (p) ->\n                        video.duration = p.target.getDuration()\n                        $timeout -> $scope.$apply()\n            $scope.player[video.id] = player\n            $scope.player[video.id].addEventListener 'onStateChange', (state) ->\n                requestFullScreen.bind(iframe)()\n                $scope.stopPlaying(state.target.a.id) if state.data is YT.PlayerState.PLAYING\n\n        $scope.playVideo = ->\n            $scope.player.loadVideoById('qQS-d4cJr0s')\n            $scope.player.playVideo()\n            iframe = document.getElementById('youtube-video')\n            requestFullScreen = iframe.requestFullScreen || iframe.mozRequestFullScreen || iframe.webkitRequestFullScreen;\n            requestFullScreen.bind(iframe)() if (requestFullScreen)\n\n        $scope.openPhotoSwipe = (index) ->\n            $scope.items = []\n            $scope.gallery.forEach (g) ->\n                $scope.items.push\n                    src: g.url\n                    msrc: g.url\n                    w: 2200\n                    h: 1100\n                    title: g.name\n                    master: g.master\n                    components: g.components\n                    total_price: g.total_price\n                    days_to_complete: g.days_to_complete\n\n            pswpElement = document.querySelectorAll('.pswp')[0]\n\n            options =\n                getThumbBoundsFn: (index) ->\n                    thumbnail = document.getElementById(\"p-#{index}\")\n                    pageYScroll = window.pageYOffset || document.documentElement.scrollTop\n                    rect = thumbnail.getBoundingClientRect()\n                    return {x:rect.left, y:rect.top + pageYScroll, w:rect.width}\n                history: false\n                focus: false\n                index: parseInt(index)\n                tapToToggleControls: false\n                captionEl: false\n                arrowEl: true\n                animateTransitions: true\n                closeOnVerticalDrag: false\n                closeOnScroll: false\n                # modal:false\n\n            $scope.PhotoSwipe = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, $scope.items, options)\n            $scope.PhotoSwipe.init()\n            $scope.PhotoSwipe.listen 'preventDragEvent', (e, isDown, preventObj) -> preventObj.prevent = true\n            # $scope.PhotoSwipe.listen 'preventDragEvent', (e, isDown, preventObj) ->\n            #     e = $(e.target)\n            #     # console.log(e)\n            #     if e.hasClass('.pswp__button')\n            #         preventObj.prevent = true\n            #     else\n            #         preventObj.prevent = false\n\n        $scope.initGallery = (ids, tags, folders) ->\n            $http.post '/api/gallery/init', {ids: ids, tags: tags, folders: folders}\n            .then (response) ->\n                console.log(response.data)\n                $scope.gallery = response.data\n\n        initGmap = ->\n            $scope.map = new google.maps.Map(document.getElementById(\"map\"), {\n                scrollwheel: false,\n                disableDefaultUI: true,\n                clickableLabels: false,\n                clickableIcons: false,\n                zoomControl: true,\n                zoomControlOptions: {position: google.maps.ControlPosition.RIGHT_CENTER},\n                scaleControl: false\n            })\n\n            $scope.bounds = new (google.maps.LatLngBounds)\n\n            markers = [\n                newMarker(new google.maps.LatLng(55.717295, 37.595088), $scope.map),\n                newMarker(new google.maps.LatLng(55.781302,  37.516045), $scope.map),\n            ]\n\n            markers.forEach (marker) ->\n                marker_location = new google.maps.LatLng(marker.lat, marker.lng)\n                # closest_metro = marker.metros[0]\n                $scope.bounds.extend(marker_location)\n\n            $scope.map.fitBounds $scope.bounds\n            $scope.map.panToBounds $scope.bounds\n\n            # if isMobile\n            #\n            # else\n            #     $scope.map.panBy(-200, 0)\n\n            if (isMobile)\n                window.onOpenModal = ->\n                    google.maps.event.trigger($scope.map, 'resize')\n                    $scope.map.fitBounds $scope.bounds\n                    $scope.map.panToBounds $scope.bounds\n","angular\n    .module 'App'\n    .constant 'REVIEWS_PER_PAGE', 5\n    .controller 'Landing', ($scope, $timeout, $http, StreamService, Tutor, REVIEWS_PER_PAGE, Subjects) ->\n        bindArguments($scope, arguments)\n\n        $timeout ->\n            initYoutube()\n            initTutors()\n\n        #\n        # REVIEWS\n        #\n        $scope.initReviews = (count, min_score, grade, subject, university)->\n            $scope.search_reviews =\n                page: 1\n                count: count\n                min_score: min_score\n                grade: grade\n                subject: subject\n                university: university\n                ids: []\n            $scope.reviews = []\n            $scope.has_more_pages = true\n            searchReviews()\n\n        $scope.nextReviewsPage = ->\n            StreamService.run('all_reviews', 'more')\n            $scope.search_reviews.page++\n            searchReviews()\n\n        searchReviews = ->\n            $scope.searching_reviews = true\n            $http.get('/api/reviews/block?' + $.param($scope.search_reviews)).then (response) ->\n                $scope.searching_reviews = false\n                $scope.reviews = $scope.reviews.concat(response.data.reviews)\n                $scope.search_reviews.ids = _.pluck($scope.reviews, 'id')\n                $scope.has_more_pages = response.data.has_more_pages\n\n\n\n        #\n        # TUTORS\n        #\n        initTutors = ->\n            $scope.tutors = []\n            $scope.tutors_page = 1\n            searchTutors()\n\n\n        $scope.tutorReviews = (tutor, index) ->\n            StreamService.run('tutor_reviews', tutor.id)\n            if tutor.all_reviews is undefined\n                tutor.all_reviews = Tutor.reviews\n                    id: tutor.id\n                , (response) ->\n                    $scope.showMoreReviews(tutor)\n            $scope.toggleShow(tutor, 'show_reviews', 'reviews', false)\n\n        $scope.showMoreReviews = (tutor, index) ->\n            tutor.reviews_page = if not tutor.reviews_page then 1 else (tutor.reviews_page + 1)\n            from = (tutor.reviews_page - 1) * REVIEWS_PER_PAGE\n            to = from + REVIEWS_PER_PAGE\n            tutor.displayed_reviews = tutor.all_reviews.slice(0, to)\n            # highlight('search-result-reviews-text')\n\n        $scope.reviewsLeft = (tutor) ->\n            return if not tutor.all_reviews or not tutor.displayed_reviews\n            reviews_left = tutor.all_reviews.length - tutor.displayed_reviews.length\n            if reviews_left > REVIEWS_PER_PAGE then REVIEWS_PER_PAGE else reviews_left\n\n\n        $scope.nextTutorsPage = ->\n            StreamService.run('load_more_tutors', $scope.tutors_page * 10)\n            $scope.tutors_page++\n            searchTutors()\n\n        searchTutors = ->\n            $scope.searching_tutors = true\n            Tutor.search\n                page: $scope.tutors_page\n                take: 4\n            , (response) ->\n                # search_count++\n                $scope.searching_tutors = false\n                $scope.tutors_data = response\n                $scope.tutors = $scope.tutors.concat(response.data)\n                # if $scope.mobile then $timeout -> bindToggle()\n\n        $scope.video = (tutor) ->\n            StreamService.run('tutor_video', tutor.id)\n            player.loadVideoById(tutor.video_link)\n            player.playVideo()\n            if isMobile\n                $('.fullscreen-loading-black').css('display', 'flex')\n            openModal('video')\n\n        # длительность видео\n        $scope.videoDuration = (tutor) ->\n            duration = parseInt(tutor.video_duration)\n            format = if duration >= 60 then 'm мин s сек' else 's сек'\n            moment.utc(duration * 1000).format(format)\n\n        # длительность видео в ISO\n        $scope.videoDurationISO = (tutor) ->\n            moment.duration(tutor.video_duration, 'seconds').toISOString()\n\n        # stream if index isnt null\n        $scope.toggleShow = (tutor, prop, iteraction_type, index = null) ->\n            if tutor[prop]\n                $timeout ->\n                    tutor[prop] = false\n                , if $scope.mobile then 400 else 0\n            else\n                tutor[prop] = true","angular\n    .module 'App'\n    .controller 'main', ($scope, $timeout, $http, PriceService, GalleryService) ->\n        bindArguments($scope, arguments)\n\n        $scope.player = {}\n\n        $scope.reviews_per_page = 10\n        $scope.displayed_reviews = 3\n\n        $scope.items_per_page = 6\n        $scope.displayed_items = 6\n\n        $scope.displayed_videos = 3\n        $scope.displayed_masters = 6\n\n        window.onYouTubeIframeAPIReady = -> $scope.videos.forEach (v, i) -> initVideo(v, i)\n\n        $scope.initGallery = (ids, tags, folders) ->\n            $http.post '/api/gallery/init', {ids: ids, tags: tags, folders: folders}\n            .then (response) ->\n                console.log(response.data)\n                $scope.gallery = response.data\n\n        $timeout ->\n            loadReviews()\n            initGmap()\n            if $scope.videos then $scope.videos.forEach (v, i) -> initVideo(v, i)\n            if $scope.init_gallery_service then GalleryService.init($scope.gallery)\n\n        # REVIEWS\n        $scope.loadMoreReviews = ->\n            $scope.displayed_reviews += $scope.reviews_per_page\n\n        loadReviews = ->\n            params =\n                folders: $scope.review_folders\n                ids: $scope.review_ids\n            params['tags[]'] = $scope.review_tags.split(',') if $scope.review_tags\n            $http.get('/api/reviews?' + $.param(params)).then (response) ->\n                $scope.reviews = response.data\n\n        # VIDEOS\n        $scope.nextVideosPage = ->\n            $scope.videos_page++\n            # StreamService.run('load_more_tutors', null, {page: $scope.page})\n            searchVideos()\n\n        searchVideos = ->\n            $scope.searching_videos = true\n            $http.get('/api/videos?page=' + $scope.videos_page).then (response) ->\n                $scope.searching_videos = false\n                $scope.videos = $scope.videos.concat(response.data.videos)\n                $scope.has_more_videos = response.data.has_more_videos\n                $timeout -> response.data.videos.forEach (v) -> bindFullscreenRequest(v)\n                # if $scope.mobile then $timeout -> bindToggle()\n\n        # длительность видео\n        $scope.videoDuration = (v) ->\n            if v.duration\n                format = if v.duration >= 60 then 'm:ss' else 'ss'\n                moment.utc(v.duration * 1000).format(format)\n\n        # остановить воспроизведение всех проигрывателей\n        # except_id – кроме\n        $scope.stopPlaying = (except_id) ->\n            $.each $scope.player, (e, p) ->\n                p.stopVideo() if (p.getPlayerState && p.getPlayerState() == 1 && p.a.id != except_id)\n\n        initVideo = (video, index) ->\n            return if not YT.Player or $scope.player[video.id]\n            iframe = document.getElementById(\"youtube-video-#{video.id}\")\n            requestFullScreen = iframe.requestFullScreen || iframe.mozRequestFullScreen || iframe.webkitRequestFullScreen\n            player = new YT.Player \"youtube-video-#{video.id}\",\n                playerVars:\n                    rel: 0\n                events:\n                    onReady: (p) ->\n                        video.duration = p.target.getDuration()\n                        $timeout -> $scope.$apply()\n            $scope.player[video.id] = player\n            $scope.player[video.id].addEventListener 'onStateChange', (state) ->\n                requestFullScreen.bind(iframe)()\n                if state.data is YT.PlayerState.PLAYING\n                    eventAction(prefixEvent('videogallery'), index + 1)\n                    $scope.stopPlaying(state.target.a.id)\n\n        # $scope.playVideo = ->\n        #     $scope.player.loadVideoById('qQS-d4cJr0s')\n        #     $scope.player.playVideo()\n        #     iframe = document.getElementById('youtube-video')\n        #     requestFullScreen = iframe.requestFullScreen || iframe.mozRequestFullScreen || iframe.webkitRequestFullScreen;\n        #     requestFullScreen.bind(iframe)() if (requestFullScreen)\n\n        $scope.openPhotoSwipe = (index) ->\n            $scope.items = []\n            $scope.gallery.forEach (g) ->\n                $scope.items.push\n                    src: g.url\n                    msrc: g.url\n                    w: 2200\n                    h: 1100\n                    title: g.name\n                    master: g.master\n                    components: g.components\n                    total_price: g.total_price\n                    days_to_complete: g.days_to_complete\n\n            pswpElement = document.querySelectorAll('.pswp')[0]\n\n            options =\n                getThumbBoundsFn: (index) ->\n                    thumbnail = document.getElementById(\"p-#{index}\")\n                    pageYScroll = window.pageYOffset || document.documentElement.scrollTop\n                    rect = thumbnail.getBoundingClientRect()\n                    return {x:rect.left, y:rect.top + pageYScroll, w:rect.width}\n                history: false\n                focus: false\n                index: parseInt(index)\n                tapToToggleControls: false\n                captionEl: false\n                arrowEl: true\n                animateTransitions: true\n                closeOnVerticalDrag: false\n                closeOnScroll: false\n                # modal:false\n\n            $scope.PhotoSwipe = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, $scope.items, options)\n            $scope.PhotoSwipe.init()\n            $scope.PhotoSwipe.listen 'preventDragEvent', (e, isDown, preventObj) -> preventObj.prevent = true\n            # $scope.PhotoSwipe.listen 'preventDragEvent', (e, isDown, preventObj) ->\n            #     e = $(e.target)\n            #     # console.log(e)\n            #     if e.hasClass('.pswp__button')\n            #         preventObj.prevent = true\n            #     else\n            #         preventObj.prevent = false\n\n        initGmap = ->\n            $scope.map = new google.maps.Map(document.getElementById(\"map\"), {\n                scrollwheel: false,\n                disableDefaultUI: true,\n                clickableLabels: false,\n                clickableIcons: false,\n                zoomControl: true,\n                zoomControlOptions: {position: google.maps.ControlPosition.RIGHT_CENTER},\n                scaleControl: false\n            })\n\n            $scope.bounds = new (google.maps.LatLngBounds)\n\n            markers = [\n                newMarker(new google.maps.LatLng(55.717295, 37.595088), $scope.map),\n                newMarker(new google.maps.LatLng(55.781302,  37.516045), $scope.map),\n            ]\n\n            markers.forEach (marker) ->\n                marker_location = new google.maps.LatLng(marker.lat, marker.lng)\n                # closest_metro = marker.metros[0]\n                $scope.bounds.extend(marker_location)\n\n            $scope.map.fitBounds $scope.bounds\n            $scope.map.panToBounds $scope.bounds\n\n            # if isMobile\n            #\n            # else\n            #     $scope.map.panBy(-200, 0)\n\n            if (isMobile)\n                window.onOpenModal = ->\n                    google.maps.event.trigger($scope.map, 'resize')\n                    $scope.map.fitBounds $scope.bounds\n                    $scope.map.panToBounds $scope.bounds\n","angular\n    .module 'App'\n    .constant 'REVIEWS_PER_PAGE', 5\n    .controller 'master', ($scope, $timeout, $http, Master, REVIEWS_PER_PAGE, GalleryService) ->\n        bindArguments($scope, arguments)\n\n        $scope.initGallery = (ids, tags, folders) ->\n            $http.post '/api/gallery/init', {ids: ids, tags: tags, folders: folders}\n            .then (response) ->\n                $scope.gallery = response.data\n\n        # fix FLEX rows\n        $timeout ->\n            $scope.masters.push(null) if $scope.masters.length % 3 == 2 && not isMobile\n\n        $scope.reviews = (master, index) ->\n            # StreamService.run('master_reviews', master.id)\n            #     position: $scope.getIndex(index)\n            #     master_id: master.id\n            if master.all_reviews is undefined\n                master.all_reviews = Master.reviews\n                    id: master.id\n                , (response) ->\n                    $scope.showMoreReviews(master)\n            $scope.toggleShow(master, 'show_reviews', 'reviews', false)\n\n        $scope.showMoreReviews = (master, index) ->\n            # if master.reviews_page then StreamService.run 'reviews_more', StreamService.identifySource(master),\n            #     position: $scope.getIndex(index)\n            #     master_id: master.id\n            #     depth: (master.reviews_page + 1) * REVIEWS_PER_PAGE\n            master.reviews_page = if not master.reviews_page then 1 else (master.reviews_page + 1)\n            from = (master.reviews_page - 1) * REVIEWS_PER_PAGE\n            to = from + REVIEWS_PER_PAGE\n            master.displayed_reviews = master.all_reviews.slice(0, to)\n            # highlight('search-result-reviews-text')\n\n        $scope.reviewsLeft = (master) ->\n            return if not master.all_reviews or not master.displayed_reviews\n            reviews_left = master.all_reviews.length - master.displayed_reviews.length\n            if reviews_left > REVIEWS_PER_PAGE then REVIEWS_PER_PAGE else reviews_left\n\n        # stream if index isnt null\n        $scope.toggleShow = (master, prop, iteraction_type, index = null) ->\n            if master[prop]\n                $timeout ->\n                    master[prop] = false\n                , if $scope.mobile then 400 else 0\n            else\n                master[prop] = true\n                # if index isnt false then StreamService.run iteraction_type, StreamService.identifySource(master),\n                #     position: $scope.getIndex(index)\n                #     master_id: master.id\n\n        #\n        # MOBILE\n        #\n        $scope.popup = (id, master = null, fn = null, index = null) ->\n            openModal(id)\n            if master isnt null then $scope.popup_master = master\n            if fn isnt null then $timeout -> $scope[fn](master, index)\n","angular\n    .module 'App'\n    .controller 'order', ($scope, $timeout, $http, Grades, Subjects, Request, StreamService) ->\n        bindArguments($scope, arguments)\n        $timeout ->\n            # @todo: client_id, referer, referer_url, user agent\n            $scope.order = {photos: []}\n            $scope.popups = {}\n            $scope.agreement = true\n            $scope.max_photos = 5\n\n            $('body').on 'drop dragover', (e) ->\n                e.preventDefault()\n                return false\n\n            $('#fileupload').fileupload\n                maxFileSize: 5000000\n                # начало загрузки\n                send: (e, data) ->\n                    if data.files[0].size > 5242880\n                        $scope.upload_error = 'максимальный объём файла – 5 Мб'\n                        $scope.$apply()\n                        return false\n                    $scope.upload_error = null\n                    $scope.order.photos.push(null)\n                    $scope.$apply()\n                # start: ->\n                #     $scope.order.photos.push(null)\n                #     $scope.upload_error = null\n                #     $scope.$apply()\n                #     true\n                # во время загрузки\n                progress: (e, data) ->\n                    $scope.uploaded_percentage = Math.round(data.loaded / data.total * 100)\n                    $scope.$apply()\n                # всегда по окончании загрузки (неважно, ошибка или успех)\n                # always: ->\n                #     $scope.is_uploading = false\n                #     $scope.$apply()\n                done: (i, response) =>\n                    if response.result.hasOwnProperty('error')\n                        $scope.order.photos.splice(-1)\n                        $scope.upload_error = response.result.error\n                        eventAction('stat-order-error', response.result.error)\n                    else\n                        $scope.order.photos[$scope.order.photos.length - 1] = response.result\n                        eventAction('stat-file-attach', $scope.order.photos.length)\n                    $scope.$apply()\n\n        $scope.photoUploading = -> $scope.order.photos[$scope.order.photos.length - 1] is null\n\n        $scope.filterPopup = (popup) ->\n            $scope.popups[popup] = true\n\n        $scope.select = (field, value) ->\n            $scope.order[field] = value\n            $scope.popups = {}\n\n        $scope.photosAllowed = ->\n            $scope.max_photos - $scope.order.photos.length\n\n        $scope.fileChange = (event) ->\n            console.log(event)\n\n        $scope.request = ->\n            $scope.sending = true\n            $scope.errors = {}\n            Request.save $scope.order, ->\n                $scope.sending = false\n                $scope.sent = true\n                eventAction('stat-order')\n                $('body').animate scrollTop: $('.header').offset().top\n            , (response) ->\n                $scope.sending = false\n                errors_string = []\n                angular.forEach response.data, (errors, field) ->\n                    $scope.errors[field] = errors\n                    errors_string.push(\"#{field}: \" + errors.join(', '))\n                    selector = \"[ng-model$='#{field}']\"\n                    $('html,body').animate({scrollTop: $(\"input#{selector}, textarea#{selector}\").first().offset().top}, 0)\n                    input = $(\"input#{selector}, textarea#{selector}\")\n                    input.focus()\n                    input.notify errors[0], notify_options if isMobile\n                eventAction('stat-order-error', errors_string.join(' | '))\n","angular\n    .module 'App'\n    .controller 'other', ($scope, $timeout, $filter, $http, StreamService) ->\n        bindArguments($scope, arguments)\n","angular\n    .module 'App'\n    .controller 'price', ($scope, PriceService) ->\n        bindArguments($scope, arguments)\n        PriceService.expand = false","angular\n    .module 'App'\n    .constant 'REVIEWS_PER_PAGE', 5\n    .controller 'reviews', ($scope, $timeout, $http, Subjects, StreamService) ->\n        bindArguments($scope, arguments)\n\n        $timeout ->\n            $scope.reviews = []\n            $scope.page = 1\n            $scope.has_more_pages = true\n            search()\n\n        $scope.popup = (index) ->\n            $scope.show_review = index\n\n        $scope.nextPage = ->\n            StreamService.run('all_reviews', 'more')\n            $scope.page++\n            search()\n\n        # $scope.$watch 'page', (newVal, oldVal) -> $.cookie('page', $scope.page) if newVal isnt undefined\n\n        search = ->\n            $scope.searching = true\n            $http.get('/api/reviews/bypage?page=' + $scope.page).then (response) ->\n                console.log(response)\n                $scope.searching = false\n                $scope.reviews = $scope.reviews.concat(response.data.reviews)\n                $scope.has_more_pages = response.data.has_more_pages\n                # if $scope.mobile then $timeout -> bindToggle()\n","angular\n    .module 'App'\n    .constant 'REVIEWS_PER_PAGE', 5\n    .controller 'Tutors', ($scope, $timeout, $http, Tutor, REVIEWS_PER_PAGE, Subjects, StreamService) ->\n        bindArguments($scope, arguments)\n        initYoutube()\n\n        $scope.popups = {}\n\n        $scope.filterPopup = (popup) ->\n            $scope.popups[popup] = true\n            # openModal(\"filter-#{popup}\") if $scope.mobile\n            # StreamService.run('filter_open', popup)\n\n        # сколько загрузок преподавателей было\n        search_count = 0\n\n        # личная страница преподавателя?\n        $scope.profilePage = ->\n            RegExp(/^\\/tutors\\/[\\d]+$/).test(window.location.pathname)\n\n        # страница поиска\n        $timeout ->\n            $scope.search = {}\n            if not $scope.profilePage()\n                # SubjectService.init($scope.search.subjects)\n                # StreamService.run('landing', 'serp')\n                $scope.filter()\n\n        $scope.selectSubject = (id) ->\n            $scope.search.subject_id = id\n            $scope.popups = {}\n            $scope.subjectChanged()\n\n        $scope.reviews = (tutor, index) ->\n            StreamService.run('tutor_reviews', tutor.id)\n            #     position: $scope.getIndex(index)\n            #     tutor_id: tutor.id\n            if tutor.all_reviews is undefined\n                tutor.all_reviews = Tutor.reviews\n                    id: tutor.id\n                , (response) ->\n                    $scope.showMoreReviews(tutor)\n            $scope.toggleShow(tutor, 'show_reviews', 'reviews', false)\n\n        $scope.showMoreReviews = (tutor, index) ->\n            # if tutor.reviews_page then StreamService.run 'reviews_more', StreamService.identifySource(tutor),\n            #     position: $scope.getIndex(index)\n            #     tutor_id: tutor.id\n            #     depth: (tutor.reviews_page + 1) * REVIEWS_PER_PAGE\n            tutor.reviews_page = if not tutor.reviews_page then 1 else (tutor.reviews_page + 1)\n            from = (tutor.reviews_page - 1) * REVIEWS_PER_PAGE\n            to = from + REVIEWS_PER_PAGE\n            tutor.displayed_reviews = tutor.all_reviews.slice(0, to)\n            # highlight('search-result-reviews-text')\n\n        $scope.reviewsLeft = (tutor) ->\n            return if not tutor.all_reviews or not tutor.displayed_reviews\n            reviews_left = tutor.all_reviews.length - tutor.displayed_reviews.length\n            if reviews_left > REVIEWS_PER_PAGE then REVIEWS_PER_PAGE else reviews_left\n\n        $scope.subjectChanged = ->\n            StreamService.run('choose_tutor_subject', Subjects.short_eng[$scope.search.subject_id])\n            $scope.filter()\n\n        # чтобы не редиректило в начале\n        filter_used = false\n        $scope.filter = ->\n            $scope.tutors = []\n            $scope.page = 1\n            if filter_used\n                # StreamService.updateCookie({search: StreamService.cookie.search + 1})\n                # StreamService.run 'filter', null,\n                #     search: StreamService.cookie.search\n                #     subjects: $scope.SubjectService.getSelected().join(',')\n                #     sort: $scope.search.sort\n                #     station_id: $scope.search.station_id\n                #     place: $scope.search.place\n                # .then -> filter()\n                filter()\n            else\n                filter()\n                filter_used = true\n\n        filter = ->\n            search()\n            # деселект hidden_filter при смене параметров\n            # delete $scope.search.hidden_filter if $scope.search.hidden_filter and search_count\n            # $.cookie('search', JSON.stringify($scope.search))\n\n        $scope.nextPage = ->\n            StreamService.run('load_more_tutors', $scope.page * 10)\n            $scope.page++\n            search()\n\n        # $scope.$watch 'page', (newVal, oldVal) -> $.cookie('page', $scope.page) if newVal isnt undefined\n\n        search = ->\n            $scope.searching = true\n            Tutor.search\n                filter_used: filter_used\n                page: $scope.page\n                search: $scope.search\n            , (response) ->\n                search_count++\n                $scope.searching = false\n                $scope.data = response\n                $scope.tutors = $scope.tutors.concat(response.data)\n                # if $scope.mobile then $timeout -> bindToggle()\n\n        $scope.video = (tutor) ->\n            StreamService.run('tutor_video', tutor.id)\n            player.loadVideoById(tutor.video_link)\n            player.playVideo()\n            if isMobile\n                $('.fullscreen-loading-black').css('display', 'flex')\n            openModal('video')\n\n        # длительность видео\n        $scope.videoDuration = (tutor) ->\n            duration = parseInt(tutor.video_duration)\n            format = if duration >= 60 then 'm мин s сек' else 's сек'\n            moment.utc(duration * 1000).format(format)\n\n        # длительность видео в ISO\n        $scope.videoDurationISO = (tutor) ->\n            moment.duration(tutor.video_duration, 'seconds').toISOString()\n\n        # stream if index isnt null\n        $scope.toggleShow = (tutor, prop, iteraction_type, index = null) ->\n            if tutor[prop]\n                $timeout ->\n                    tutor[prop] = false\n                , if $scope.mobile then 400 else 0\n            else\n                tutor[prop] = true\n                # if index isnt false then StreamService.run iteraction_type, StreamService.identifySource(tutor),\n                #     position: $scope.getIndex(index)\n                #     tutor_id: tutor.id\n\n        #\n        # MOBILE\n        #\n        $scope.popup = (id, tutor = null, fn = null, index = null) ->\n            openModal(id)\n            if tutor isnt null then $scope.popup_tutor = tutor\n            if fn isnt null then $timeout -> $scope[fn](tutor, index)\n            # $scope.index = $scope.getIndex(index)\n","angular.module('App')\n    .factory 'Master', ($resource) ->\n        $resource apiPath('masters'), {id: '@id', type: '@type'},\n            search:\n                method: 'POST'\n                url: apiPath('masters', 'search')\n            reviews:\n                method: 'GET'\n                isArray: true\n                url: apiPath('reviews')\n\n    .factory 'Request', ($resource) ->\n        $resource apiPath('requests'), {id: '@id'}, updatable()\n\n    .factory 'Cv', ($resource) ->\n        $resource apiPath('cv'), {id: '@id'}, updatable()\n\n    .factory 'PriceSection', ($resource) ->\n        $resource apiPath('prices'), {id: '@id'}, updatable()\n\n    .factory 'PricePosition', ($resource) ->\n        $resource apiPath('prices/positions'), {id: '@id'}, updatable()\n\n    .factory 'Stream', ($resource) ->\n        $resource apiPath('stream'), {id: '@id'}\n\napiPath = (entity, additional = '') ->\n    \"/api/#{entity}/\" + (if additional then additional + '/' else '') + \":id\"\n\nupdatable = ->\n    update:\n        method: 'PUT'\ncountable = ->\n    count:\n        method: 'GET'\n","angular.module 'App'\n    .service 'GalleryService', () ->\n        @displayed = 3\n\n        el = null\n        scroll_left  = null\n        DIRECTION = {next: 1, prev: 0}\n        animation_in_progress = false\n\n        @open = (index) ->\n            @ctrl.open(index)\n\n        @init = (gallery) ->\n            @gallery = gallery\n            # добавляем 1 фотов конец и начало для rotate\n            @gallery.push(gallery[0])\n            @gallery.unshift(gallery[gallery.length - 2])\n            el = $('.main-gallery-block')\n            @screen_width = $('.main-gallery-block .gallery-item').first().outerWidth()\n            # scroll_left = @screen_width - (($(window).width() - @screen_width) / 2)\n            @setActive(1)\n\n        @next = ->\n            return if animation_in_progress\n            @rotateControl(DIRECTION.next)\n            @setActive(@active + 1)\n\n        @prev = ->\n            return if animation_in_progress\n            @rotateControl(DIRECTION.prev)\n            @setActive(@active - 1)\n\n        @setActive = (index) ->\n            @active = index\n            @scroll()\n\n        @rotateControl = (direction)->\n            if @active is 1 and direction is DIRECTION.prev\n                @active = @gallery.length - 1\n                @scroll(0)\n            if @active is @gallery.length - 2 and direction is DIRECTION.next\n                @active = 0\n                @scroll(0)\n\n\n        @scroll = (animation_speed = 500)->\n            animation_in_progress = true\n            el.stop().animate\n                scrollLeft: @screen_width * @active + @screen_width - (($(window).width() - @screen_width) / 2)\n            , animation_speed, -> animation_in_progress = false\n\n        @\n","angular.module 'App'\n    .service 'PhoneService', ->\n        # проверить перед отправкой форму\n        this.checkForm = (element)->\n            phone_element = $(element).find('.phone-field')\n\n            # номер телефона не заполнен полностью\n            if not isFull(phone_element.val())\n                phone_element.focus().notify 'номер телефона не заполнен полностью', notify_options\n                return false\n\n            # номер должен начинаться с 9 или 4\n            phone_number = phone_element.val().match(/\\d/g).join('')\n            if phone_number[1] != '4' and phone_number[1] != '9'\n                phone_element.focus().notify 'номер должен начинаться с 9 или 4', notify_options\n                return false\n            true\n\n        # номер телефона полный\n        isFull = (number) ->\n            return false if number is undefined or number is \"\"\n            !number.match(/_/)\n\n        this\n","angular.module 'App'\n    .service 'PriceService', ($timeout, PriceSection) ->\n        @items  = []\n        @expand = true\n\n        @get = (tags, ids, folders) ->\n            params = {}\n            params['tags[]'] = tags.split(',') if tags\n            params['folders[]'] = folders.split(',') if folders && folders isnt '{folders}'\n            params['ids[]'] = ids.split(',') if ids && ids isnt '{ids}'\n            @items = PriceSection.query params, (response) =>\n                if @expand then $timeout ->\n                    PriceExpander.expand(if isMobile then 15 else 30)\n                , 1000\n\n        @\n","angular.module 'App'\n    .service 'StreamService', ($http, $timeout, Stream) ->\n        this.identifySource = (tutor = undefined) ->\n            return 'similar' if tutor isnt undefined and tutor.is_similar\n            return 'tutor' if RegExp(/^\\/[\\d]+$/).test(window.location.pathname)\n            return 'help' if window.location.pathname is '/request'\n            return 'main' if window.location.pathname is '/'\n            return 'serp'\n\n        this.generateEventString = (params) ->\n            search = $.cookie('search')\n            if search isnt undefined then $.each JSON.parse(search), (key, value) ->\n                params[key] = value\n            parts = []\n            $.each params, (key, value) ->\n                switch key\n                    when 'sort'\n                        switch parseInt(value)\n                            when 2 then value = 'maxprice'\n                            when 3 then value = 'minprice'\n                            when 4 then value = 'rating'\n                            when 5 then value = 'bymetro'\n                            else value = 'pop'\n                    when 'place'\n                        switch parseInt(params.place)\n                            when 1 then where = 'tutor'\n                            when 2 then where = 'client'\n                            else where = 'any'\n                return if key in ['action', 'type', 'google_id', 'yandex_id', 'id', 'hidden_filter'] or not value\n                parts.push(key + '=' + value)\n            return parts.join('_')\n\n        this.updateCookie = (params) ->\n            this.cookie = {} if this.cookie is undefined\n            $.each params, (key, value) =>\n                this.cookie[key] = value\n            $.cookie('stream', JSON.stringify(this.cookie), { expires: 365, path: '/' })\n\n        this.initCookie = ->\n            if $.cookie('stream') isnt undefined\n                this.cookie = JSON.parse($.cookie('stream'))\n            else\n                this.updateCookie({step: 0, search: 0})\n\n        this.run = (action, type, additional = {}) ->\n            this.initCookie() if this.cookie is undefined\n            if not this.initialized\n                $timeout =>\n                    this._run(action, type, additional)\n                , 1000\n            else\n                this._run(action, type, additional)\n\n        this._run = (action, type, additional = {}) ->\n            this.updateCookie({step: this.cookie.step + 1})\n\n            params =\n                action: action\n                type: type\n                step: this.cookie.step\n                # google_id: googleClientId()\n                # yandex_id: yaCounter8061652.getClientID()\n                mobile: if (typeof isMobile is 'undefined') then '0' else '1'\n\n            $.each additional, (key, value) =>\n                params[key] = value\n\n            if action isnt 'page' then dataLayerPush\n                event: 'configuration'\n                eventCategory: action\n                eventAction: type\n            Stream.save(params).$promise\n\n        this"],"sourceRoot":"/source/"}